import{GluonElement}from'../gluonjs/gluon.js';const player={unlocks:{}},elements=[],notify=()=>{elements.forEach((a)=>{a.dispatchEvent(new Event('player-changed'))})};class OverwebsPlayerData extends GluonElement{set name(a){player.name=a,notify()}get name(){return player.name}set level(a){player.level=a,notify()}get level(){return player.level}set avatar(a){player.avatar=a,notify()}get avatar(){return player.avatar}set unlocks(a){Object.assign(player.unlocks,a),notify()}get unlocks(){return player.unlocks}set player(a){const b=a.unlocks;delete a.unlocks,Object.assign(player,a),b&&(this.unlocks=b),notify()}get player(){return player}connectedCallback(){super.connectedCallback(),elements.push(this)}disconnectedCallback(){super.disconnectedCallback(),elements.splice(elements.indexOf(this),1)}}customElements.define(OverwebsPlayerData.is,OverwebsPlayerData);